(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{678:(t,e,a)=>{"use strict";a.d(e,{_:()=>r,e:()=>c});var s=a(7876),i=a(4232);let n=(0,i.createContext)();function c(t){let{children:e}=t,[a,c]=(0,i.useState)([]),[r,l]=(0,i.useState)(!1),d=()=>l(!0),u=(0,i.useMemo)(()=>a.reduce((t,e)=>t+e.price*e.quantity,0),[a]),o={cartItems:a,addToCart:t=>{c(e=>e.find(e=>e.id===t.id)?e.map(e=>e.id===t.id?{...e,quantity:e.quantity+1}:e):[...e,{...t,quantity:1}]),d()},removeFromCart:t=>{c(e=>e.filter(e=>e.id!==t))},updateQuantity:(t,e)=>{c(a=>a.map(a=>a.id===t?{...a,quantity:Math.max(0,e)}:a).filter(t=>t.quantity>0))},totalPrice:u,cartCount:a.reduce((t,e)=>t+e.quantity,0),isCartOpen:r,openCart:d,closeCart:()=>l(!1)};return(0,s.jsx)(n.Provider,{value:o,children:e})}function r(){return(0,i.useContext)(n)}},3039:()=>{},6556:(t,e,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return a(7016)}])},6726:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>n});var s=a(7876),i=a(678);function n(){let{isCartOpen:t,closeCart:e,cartItems:a,totalPrice:n,updateQuantity:c,removeFromCart:r}=(0,i._)();return t?(0,s.jsx)("div",{id:"cart-modal",className:"modal-overlay is-visible",children:(0,s.jsxs)("div",{className:"cart-modal-content",children:[(0,s.jsxs)("header",{className:"cart-header",children:[(0,s.jsx)("h2",{children:"عربة التسوق"}),(0,s.jsx)("button",{id:"close-cart-btn",className:"close-btn",onClick:e,children:(0,s.jsx)("i",{className:"fas fa-times"})})]}),(0,s.jsx)("div",{id:"cart-items-container",className:"cart-items",children:0===a.length?(0,s.jsx)("p",{className:"empty-cart-message",children:"عربة التسوق فارغة."}):a.map(t=>(0,s.jsxs)("div",{className:"cart-item",children:[(0,s.jsx)("img",{src:t.imageUrl,alt:t.name,className:"cart-item-image"}),(0,s.jsxs)("div",{className:"cart-item-details",children:[(0,s.jsx)("h3",{children:t.name}),(0,s.jsxs)("p",{children:[t.price," جنيه"]}),(0,s.jsxs)("div",{className:"quantity-controls",children:[(0,s.jsx)("button",{onClick:()=>c(t.id,t.quantity-1),children:"-"}),(0,s.jsx)("span",{children:t.quantity}),(0,s.jsx)("button",{onClick:()=>c(t.id,t.quantity+1),children:"+"})]})]}),(0,s.jsx)("button",{className:"remove-item-btn",onClick:()=>r(t.id),children:(0,s.jsx)("i",{className:"fas fa-trash"})})]},t.id))}),(0,s.jsxs)("footer",{className:"cart-footer",children:[(0,s.jsxs)("div",{id:"cart-total",className:"cart-total",children:[(0,s.jsx)("strong",{children:"الإجمالي:"})," ",n.toFixed(2)," جنيه"]}),(0,s.jsx)("button",{id:"checkout-btn",className:"checkout-button",disabled:0===a.length,children:"إتمام الشراء"})]})]})}):null}},7016:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>c});var s=a(7876),i=a(678),n=a(6726);a(3039);let c=function(t){let{Component:e,pageProps:a}=t;return(0,s.jsxs)(i.e,{children:[(0,s.jsx)(e,{...a}),(0,s.jsx)(n.default,{})," "]})}}},t=>{var e=e=>t(t.s=e);t.O(0,[593,792],()=>(e(6556),e(6296))),_N_E=t.O()}]);